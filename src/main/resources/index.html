<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>14-1 Scoreboard</title>
    <!-- link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css" / -->
    <style>
        .big-auto-size {
            font-size: 20vw;
        }
    </style>

    <script>
        /**
         * Element.requestFullScreen() polyfill
         * @author Chris Ferdinandi
         * @license MIT
         */
        if (!Element.prototype.requestFullscreen) {
            Element.prototype.requestFullscreen
                = Element.prototype.mozRequestFullscreen
                || Element.prototype.webkitRequestFullscreen
                || Element.prototype.msRequestFullscreen;
        }
    </script>
    <script src="elm/main.js"></script>
</head>

<body>
<script>
    const app = Elm.Main.init();

    const elmContainer = document.body;
    app.ports.requestFullscreen.subscribe(function (fullScreenRequested) {
        if (fullScreenRequested) {
            if (elmContainer.requestFullscreen) {
                elmContainer.requestFullscreen();
            }
        } else {
            if (document.exitFullscreen)
                document.exitFullscreen();
            else if (document.webkitExitFullscreen)
                document.webkitExitFullscreen();
            else if (document.mozCancelFullScreen)
                document.mozCancelFullScreen();
            else if (document.msExitFullscreen)
                document.msExitFullscreen();
        }
    });

    if (document.onfullscreenchange === null)
        document.onfullscreenchange = onFullScreenChange;
    else if (document.onmsfullscreenchange === null)
        document.onmsfullscreenchange = onFullScreenChange;
    else if (document.onmozfullscreenchange === null)
        document.onmozfullscreenchange = onFullScreenChange;
    else if (document.onwebkitfullscreenchange === null)
        document.onwebkitfullscreenchange = onFullScreenChange;

    function onFullScreenChange(event) {
        const fullscreenElement = document.fullscreenElement ||
            document.webkitFullscreenElement ||
            document.mozFullScreenElement ||
            document.msFullscreenElement;

        app.ports.isFullscreen.send(fullscreenElement != null)
    }
</script>
</body>
